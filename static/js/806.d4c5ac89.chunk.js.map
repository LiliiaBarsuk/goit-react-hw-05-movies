{"version":3,"file":"static/js/806.d4c5ac89.chunk.js","mappings":"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","sources":["Api.js","Pages/Movie.styled.jsx","Pages/Movie.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const KEY = 'd235d9d84008e448e946d307df920be3';\n\nexport const fetchTrendingToday = () => {\n   return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}`)\n    .then(response => response.json()).then(data => data.results)\n};\n\nexport const fetchListByQuery = (queryValue) => {\n    return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${queryValue}&page=1&include_adult=false`)\n    .then(response => response.json()).then(data => data.results)\n}\n\nexport const fetchMovieById = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`)\n    .then(r => r.json()).then(data => data)\n}\n\nexport const fetchCastById = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}&language=en-US`)\n    .then(r => r.json()).then(data => data.cast)\n}\n\nexport const fetchReviewsById = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`)\n    .then(r => r.json()).then(data => data.results)\n}","import styled from '@emotion/styled';\nimport { Link } from \"react-router-dom\";\n\nexport const LinkStyled = styled(Link)`\n    display:block;\n    padding: 5px;\n    width: 70px;\n    margin-bottom: 20px;\n    border: 1px solid black;\n    border-radius: 2px;\n    text-decoration: none;\n    color: black;\n\n`;\n\nexport const MovieContainer = styled.div`\n    padding-top: 20px;\n\n`;\n\nexport const MovieDetails = styled.div`\n    display: flex; \n    gap: 20px;\n    width: 100%;\n    padding-bottom: 5px;\n    border-bottom: 1px solid silver;\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.12),\n    0px 1px 1px rgba(0, 0, 0, 0.14),\n    0px 2px 1px rgba(0, 0, 0, 0.2);\n\n`;\n\nexport const AdditionalInfo = styled.div`\n    width: 100%;\n    border-bottom: 1px solid silver;\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.12),\n    0px 1px 1px rgba(0, 0, 0, 0.14),\n    0px 2px 1px rgba(0, 0, 0, 0.2);\n\n`;\n\n","import { fetchMovieById } from \"Api\";\nimport { useEffect, Suspense, useState } from \"react\";\nimport { Link, Outlet, useParams, useLocation } from \"react-router-dom\";\nimport { AdditionalInfo, LinkStyled, MovieContainer, MovieDetails } from \"./Movie.styled\";\n\n\nconst Movie = () => { \n    const { movieId } = useParams();\n    const [movie, setMovie] = useState({});\n    const location = useLocation();\n    const goBackLink = location.state?.from ?? \"/\";\n    \n\n    useEffect(() => {\n        \n        async function fetchMovie(id) {\n            try {\n                \n                const movie = await fetchMovieById(id);\n                console.log(movie);\n               \n                setMovie({\n                    imgUrl: `https://image.tmdb.org/t/p/w500/${movie['poster_path']}`,\n                    rating: Math.floor(movie[\"vote_average\"] * 10),\n                    genres: movie.genres.map(genre => genre.name).join(' '),\n                    title: movie.title,\n                    owerview: movie.overview,\n                    year: new Date(movie[\"release_date\"]).getUTCFullYear()\n               \n\n                });\n                \n            } catch(error) {\n                console.log(error);\n            }\n        }\n\n        fetchMovie(movieId)\n\n    }, [movieId]\n\n    )\n\n    return (\n       \n        <main>\n            <MovieContainer>\n            <LinkStyled to={goBackLink}>Go back</LinkStyled>\n            <MovieDetails>\n                <img src={movie.imgUrl} alt=\"Movie poster\" width='250' height='350' />\n                <div>\n                    <h2>{movie.title} ({movie.year})</h2>\n                    <p>User score: {movie.rating}%</p>\n                    <h3>Owerview</h3>\n                    <p>{movie.owerview}</p>\n                    <h3>Genres</h3>\n                    <p>{movie.genres}</p>\n                </div>\n            </MovieDetails>\n            \n            <AdditionalInfo>\n            <p>Additional information</p>\n            <ul>\n                <li><Link to='cast' state={{ from: goBackLink }}>Cast</Link></li>\n                <li><Link to='reviews' state={{ from: goBackLink }}>Reviews</Link></li>\n            </ul>\n            </AdditionalInfo>\n            <Suspense fallback={<div>Loading...</div>}>\n                <Outlet />\n           </Suspense>\n           </MovieContainer>  \n        </main>\n    )\n}\n\nexport default Movie","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["KEY","fetchTrendingToday","fetch","then","response","json","data","results","fetchListByQuery","queryValue","fetchMovieById","id","r","fetchCastById","cast","fetchReviewsById","LinkStyled","styled","Link","MovieContainer","MovieDetails","AdditionalInfo","movieId","useParams","useState","movie","setMovie","goBackLink","useLocation","state","from","useEffect","console","log","imgUrl","rating","Math","floor","genres","map","genre","name","join","title","owerview","overview","year","Date","getUTCFullYear","fetchMovie","to","src","alt","width","height","Suspense","fallback","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}